---
schema_version: '1.0'
id: 'musicbrainz_enricher'
name: 'MusicBrainz Metadata Enricher'
version: '1.0.0'
description: 'Enriches music metadata and artwork using the MusicBrainz database and Cover Art Archive'
author: 'Viewra Team'
website: 'https://github.com/mantonx/viewra'
repository: 'https://github.com/mantonx/viewra'
license: 'MIT'
type: 'metadata_scraper'
tags:
  - 'music'
  - 'metadata'
  - 'enrichment'
  - 'musicbrainz'
  - 'artwork'

capabilities:
  metadata_extraction: true
  api_endpoints: true
  background_tasks: true
  database_access: true
  external_services: true

dependencies:
  viewra_version: '>=1.0.0'

# Plugin configuration - edit these values directly in this YAML file
config_schema:
  type: 'object'
  properties:
    enabled:
      type: 'boolean'
      default: true
      description: 'Enable/disable the plugin'
    api_rate_limit:
      type: 'number'
      minimum: 0.1
      maximum: 1.0
      default: 0.8
      description: 'API requests per second (max 1.0 to respect MusicBrainz guidelines)'
    user_agent:
      type: 'string'
      default: 'Viewra/1.0.0'
      description: 'User agent for API requests'
    enable_artwork:
      type: 'boolean'
      default: true
      description: 'Download album artwork from Cover Art Archive'
    artwork_max_size:
      type: 'integer'
      minimum: 250
      maximum: 2000
      default: 1200
      description: 'Maximum artwork size in pixels'
    artwork_quality:
      type: 'string'
      enum:
        [
          'front',
          'back',
          'booklet',
          'medium',
          'obi',
          'spine',
          'track',
          'liner',
          'sticker',
          'poster',
        ]
      default: 'front'
      description: 'Preferred artwork type'
    match_threshold:
      type: 'number'
      minimum: 0.5
      maximum: 1.0
      default: 0.85
      description: 'Minimum similarity score for automatic matching (0.5-1.0)'
    auto_enrich:
      type: 'boolean'
      default: false
      description: 'Automatically enrich new files during media scans'
    overwrite_existing:
      type: 'boolean'
      default: false
      description: 'Overwrite existing enrichment data'
    cache_duration_hours:
      type: 'integer'
      minimum: 1
      maximum: 8760
      default: 168
      description: 'Cache duration in hours (1 week default)'

config:
  enabled: true
  api_rate_limit: 0.8
  user_agent: 'Viewra/1.0.0'
  enable_artwork: true
  artwork_max_size: 1200
  artwork_quality: 'front'
  match_threshold: 0.85
  auto_enrich: false
  overwrite_existing: false
  cache_duration_hours: 168

entry_points:
  main: 'plugin.go'

# UI components will be added in the future as React/TypeScript components
# ui:
#   components: []

permissions:
  - 'database:read'
  - 'database:write'
  - 'network:external'
  - 'filesystem:read'
